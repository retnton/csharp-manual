# 変数～動的なプログラム～
ボタンを押したら、ボタンが動く方向を反転させるにはどうしたらよいだろうか。

## 問題点
- プログラムを実行すると、値を書き換えることができない


## 解決策
- 足す値を実行中に変えられるようにする・・・**変数**


## C#での変数の使い方
1. 記録したい型と、変数の名前を宣言
2. 初期値を代入
3. 値を使いたいところに、変数名を書く

## 変数定義の書き方
int型のaという名前の変数を定義する。

```cs
int a;
```

float型のfwという名前の変数を定義する。

```cs
float fw;
```

string型のstrという名前の変数を定義する。

```cs
string str;
```

int型のbという名前の変数を定義し、10を代入する。

```cs
int b=10;
```

float型のfw2という名前の変数を定義し、-10.5を代入する。

```cs
float fw2=-10.5f;
```

string型のstr2という名前の変数を定義し、「こんにちは」と代入する。

```cs
string str2="こんにちは";
```

## 演習7-1
「演習7-1」ボタンを作成して、クリック時にint型の変数vxを定義して、5を代入。メッセージボックスでvxを表示させてみよう。

## 演習7-2
「演習7-2」ボタンを作成して、クリック時にメッセージボックスでvxを表示するコードを書いてみよう。Startしようとすると何が起きるか、また、vxはどこで有効かを以下に記せ。

### 何が起きる？
- コンテクスト内に無いというエラーが発生

### vxの有効範囲は？
- 宣言したすぐ上の{}の中

## 演習7-3
クラス定義(class)の直下に、int型の変数vxを定義して、10を代入するコードを追加する。Startして、以下に解答しよう。

### 演習7-2と比べてどうなった？
- エラーがなくなった

### 演習7-1ボタンと、演習7-2ボタンを交互に押して、それぞれ何が表示されるか？

- 演習7-1・・・(  5        )
- 演習7-2・・・( 10        )
- 分かったことをまとめよう
  - 7-1は直前に宣言したvxが参照された
  - 7-2はclassの中に宣言したvxが参照された
  - 7-1のvxと7-3のvxは別の変数である
  - 7-3のvxの値は、そのclass内でずっと使える

## データの代入方法
定義済みのint型変数aに、100を代入する。

```cs
a = 100;
```

定義済みのfloat型変数fwに、3.14を代入する。

```cs
fw = 3.14f;
```

定義済みのstring型変数strに、「こんにちは」を代入する。

```cs
str = "こんにちは";
```

## 演習7-4
「演習7-4」ボタンを作成して、vxを10増やして、vxをMessageBoxで表示するコードを入力したらStartして、以下に解答しよう。

次の順番にボタンを押して、表示される内容を記入しよう。
- 演習7-2：
- 演習7-1：
- 演習7-2：
- 演習7-4：
- 演習7-2：
- 演習7-1：
- 演習7-4：
- 演習7-2：

### 分かったことをまとめよう
- 7-1のvxは、毎回初期化されてしまう=値が記録されない
- 7-3のvxは、ずっと値が記録されている
 
## 変数の有効範囲
|-              |定義する場所|有効範囲|
|:-------------:|-----------|-------|
|ローカル変数    |7-1のvxのようにメソッド内で定義 | 定義したメソッド内のみ |
|インスタンス変数|7-3のvxのようにclassの直下に定義 | 定義したインスタンスが有効な間=そのプログラムが実行している間 |
|クラス変数     |classの直下で、staticというキーワードをつけて定義 |クラスが使われている間 |

##	変数名の制約やルール
- 変数名の最初の1文字目は、(アルファベット )か( _ )
- 2文字目以降は、(アルファベット)か(数字)か( _ )
- (予約語)は使えない(例 intやstringなど)
- (キャメルケース)：HelloWorld / helloWorld C#やJavaでよく採用されてる
- (スネークケース)：hello_world 古いc言語など
- (ケバブケース)(C#では不可)：hello-world / Hello-World ファイル名やHTMLなど

## 注意！
- 変数名には日本語も使えるが、使うことは一般的ではない。変な癖を付けないように日本語の変数や関数名は使わないようにしよう！
- プログラム関連のファイル名に日本語を使うことはやめよう！

## 演習7-5
以下のようなプログラムを作成してみよう。
- Timerを置いて、Enabledをtrueにして、timer1をダブルクリック
- エディタが開いた場所に、演習7-4ボタンのLeftプロパティが vx 増えるようにする
- Startして、演習7-4ボタンを押して、動作を確認しよう

## 違う型の変数への代入
課題：以下の書き方についてインターネットなどで調べて解答しなさい。変数は予め定義されているものとする。

(解答例) string型変数str に、int型変数aの値を代入する。

```cs
str = a.ToString();
```

string型変数strに、float型変数fwの値を代入する。

```cs
str = fw.ToString();

str = ""+fw;
```

int型変数aに、float型変数fwの値を代入する。

```cs

```

int型変数aに、string型変数strの値を代入する。

```cs

```

float型変数fwに、int型変数aの値を代入する。

```cs

```

float型変数fwに、string型変数strの値を代入する。

```cs

```

---

[前へ](06.md) | [目次へ](README.md#%E7%9B%AE%E6%AC%A1) | [次へ](08.md)
